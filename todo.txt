crear un middleware para el manejo de errores

cambiar las rutas para poder subir varias fotos de las mascotas



revisar en los promises q para q un evento suba el q lo genera debe ser return
poner un usuario y contraseÃ±a en mongo db
eje:


asi sube hasta q el error es atrapado
    let fs = require("fs/promises");

    p.then((res) => {
    console.log(res);
    return fs.access("D:/xxx.xxx");
    }).catch((err) => {
    //   console.log(err);
    });
asi no lo hace
    let fs = require("fs/promises");

    p.then((res) => {
    console.log(res);
    fs.access("D:/xxx.xxx");
    }).catch((err) => {
    //   console.log(err);
    });